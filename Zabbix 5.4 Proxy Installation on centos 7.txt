# cat /etc/os-release

1. Install Zabbix repository
# rpm -Uvh https://repo.zabbix.com/zabbix/5.4/rhel/7/x86_64/zabbix-release-5.4-1.el7.noarch.rpm

2. Install Zabbix Proxy  
# yum -y install zabbix-proxy-mysql zabbix-agent zabbix-sql-scripts

yum install wget

2. wget https://repo.mysql.com//mysql80-community-release-el7-1.noarch.rpm 

3. rpm -ivh mysql80-community-release-el7-1.noarch.rpm 

6. yum -y install mysql-server 

7. systemctl start mysqld

8. mysql -p (Find the password in log file: tail -f /var/log/mysqld.log)

9. mysql> create database zabbix character set utf8 collate utf8_bin;

10. CREATE USER 'zabbix'@'localhost' IDENTIFIED BY 'Admin@123';

11. alter user 'zabbix'@'localhost' identified with mysql_native_password by 'Admin@123';

12. grant all privileges on zabbix.* to zabbix@localhost identified by 'Admin@123';

13. flush privileges;

14. ALTER USER 'root'@'localhost' IDENTIFIED BY 'Admin@123';

4.On Zabbix proxy host import initial schema and data. You will be prompted to enter your newly created password. 
# zcat /usr/share/doc/zabbix-sql-scripts/mysql/schema.sql.gz | mysql -uzabbix -p zabbix

5. Change conf file: change ip, db details.
vi /etc/zabbix/zabbix_proxy.conf
Proxi mode =0 (uncomment)
Server = xxx.xxx.xxx.xxx
Hostname= Configured same here & in the portal as well.
DBHost=localhost
DBName=zabbix
DBUser=zabbix
DBPassword=Admin@123(uncomment)

6. vi /etc/zabbix/zabbix_agentd.conf
Server - ip of proxy server
ServerActive - ip of proxy server
Hostname - client_proxy
Timeout - 30 (uncomment)

7. Start Zabbix Proxy and agent processes 
# systemctl start zabbix-proxy
# systemctl enable zabbix-proxy
# systemctl status zabbix-proxy
  
check selinux status  
# sestatus 

To disable selinux 
# vi /etc/sysconfig/selinux  (set disabled)

check firewall status
# systemctl status firewalld

To disable firewall
# systemctl stop firewalld
# systemctl disable firewalld

init 6 - reboot

